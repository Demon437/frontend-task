{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter,Routes,Route,Navigate}from'react-router-dom';import{Toaster}from'react-hot-toast';import LoginPage from'./pages/LoginPage';import RegisterPage from'./pages/RegisterPage';import Dashboard from'./pages/Dashboard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[token,setToken]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const storedToken=localStorage.getItem('token');if(storedToken){setToken(storedToken);}setLoading(false);// ✅ Token check done\n},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:\"Loading...\"});}return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\"}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{setToken:setToken})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:token?/*#__PURE__*/_jsx(Dashboard,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","Navigate","Toaster","LoginPage","RegisterPage","Dashboard","jsx","_jsx","jsxs","_jsxs","App","token","setToken","loading","setLoading","storedToken","localStorage","getItem","className","children","position","path","element","to"],"sources":["C:/Users/pc/Desktop/task-m/task-manager/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { Toaster } from 'react-hot-toast';\r\n\r\nimport LoginPage from './pages/LoginPage';\r\nimport RegisterPage from './pages/RegisterPage';\r\nimport Dashboard from './pages/Dashboard';\r\n\r\nfunction App() {\r\n    const [token, setToken] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const storedToken = localStorage.getItem('token');\r\n        if (storedToken) {\r\n            setToken(storedToken);\r\n        }\r\n        setLoading(false); // ✅ Token check done\r\n    }, []);\r\n\r\n    if (loading) {\r\n        return <div className=\"text-center mt-5\">Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Toaster position=\"top-right\" />\r\n            <Routes>\r\n                <Route path=\"/\" element={<Navigate to=\"/login\" />} />\r\n                <Route path=\"/register\" element={<RegisterPage />} />\r\n                <Route path=\"/login\" element={<LoginPage setToken={setToken} />} />\r\n                <Route\r\n                    path=\"/dashboard\"\r\n                    element={token ? <Dashboard /> : <Navigate to=\"/login\" />}\r\n                />\r\n            </Routes>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACzE,OAASC,OAAO,KAAQ,iBAAiB,CAEzC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACX,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAkB,WAAW,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACjD,GAAIF,WAAW,CAAE,CACbH,QAAQ,CAACG,WAAW,CAAC,CACzB,CACAD,UAAU,CAAC,KAAK,CAAC,CAAE;AACvB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,OAAO,CAAE,CACT,mBAAON,IAAA,QAAKW,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,CAC7D,CAEA,mBACIV,KAAA,CAACX,aAAa,EAAAqB,QAAA,eACVZ,IAAA,CAACL,OAAO,EAACkB,QAAQ,CAAC,WAAW,CAAE,CAAC,cAChCX,KAAA,CAACV,MAAM,EAAAoB,QAAA,eACHZ,IAAA,CAACP,KAAK,EAACqB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEf,IAAA,CAACN,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,cACrDhB,IAAA,CAACP,KAAK,EAACqB,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEf,IAAA,CAACH,YAAY,GAAE,CAAE,CAAE,CAAC,cACrDG,IAAA,CAACP,KAAK,EAACqB,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEf,IAAA,CAACJ,SAAS,EAACS,QAAQ,CAAEA,QAAS,CAAE,CAAE,CAAE,CAAC,cACnEL,IAAA,CAACP,KAAK,EACFqB,IAAI,CAAC,YAAY,CACjBC,OAAO,CAAEX,KAAK,cAAGJ,IAAA,CAACF,SAAS,GAAE,CAAC,cAAGE,IAAA,CAACN,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAAE,CAAE,CAC7D,CAAC,EACE,CAAC,EACE,CAAC,CAExB,CAEA,cAAe,CAAAb,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}